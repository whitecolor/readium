Readium.Views.ToolbarView=Backbone.View.extend({el:"#toolbar-el",initialize:function(){this.model.on("change:toolbar_visible",this.renderBarVibility,this);this.model.on("change:full_screen",this.renderFullScreen,this);this.model.on("change:current_theme",this.renderThemeButton,this)},render:function(){this.renderBarVibility();this.renderFullScreen();this.renderThemeButton();return this},renderBarVibility:function(){var a=this.model.get("toolbar_visible");this.$("#show-toolbar-button").toggle(!a);
this.$("#top-bar").toggle(a);return this},renderFullScreen:function(){var a=this.model.get("full_screen");this.$("#go-to-fs-ico").toggle(!a);this.$("#leave-fs-ico").toggle(a);return this},renderThemeButton:function(){var a=this.model.get("current_theme")==="night-theme";this.$("#night-to-day-ico").toggle(a);this.$("#day-to-night-ico").toggle(!a);return this},events:{"click #hide-toolbar-button":"hide_toolbar","click #show-toolbar-button":"show_toolbar","click #fs-toggle-btn":"toggle_fs","click #toggle-toc-btn":"toggle_toc",
"click #nightmode-btn":"toggle_night_mode","click #play-mo-btn":"play_mo"},show_toolbar:function(a){a.preventDefault();this.model.set("toolbar_visible",!0)},hide_toolbar:function(a){a.preventDefault();this.model.set("toolbar_visible",!1)},toggle_fs:function(a){a.preventDefault();this.model.toggleFullScreen()},toggle_toc:function(a){a.preventDefault();this.model.toggleToc()},toggle_night_mode:function(){this.model.get("current_theme")==="night-theme"?this.model.set("current_theme","default-theme"):
this.model.set("current_theme","night-theme");this.model.save()},play_mo:function(){this.model.get("mo_playing")?this.model.pauseMo():this.model.playMo(!1)}});
